- clean: ['~']

# link cross-platform
- shell:
  - ["", ========== common install ==========]

- defaults:
    link:
      create: true
      relink: true
      force: true
      relative: true

- link:
    ~/.vim/autoload: vim/autoload
    ~/.vimrc: vimrc
    ~/.tmux.conf.local: tmux.conf.local
    ~/.gitconfig: gitconfig
    ~/.ssh/vps_id_rsa: ssh/vps_id_rsa
    # submodules
    ~/.fzf: submodules/fzf
    ~/.tmux.conf: submodules/.tmux/.tmux.conf



# link for macOS
- shell:
  - ["", ========== macOS install ==========]

- defaults:
    link:
      create: true
      relink: true
      force: true
      relative: true
      if: '[ $(uname) = Darwin ]'

- link:
    ~/.hammerspoon: macos/hammerspoon
    ~/.tmux.conf.local.os: macos/tmux.conf.local
    ~/.gitmux: macos/gitmux
    # link for macOS version <= 10.14
    ~/bin/rg: macos/bin/rg
    ~/.bash_profile: bashrc
    # link for macOS version >= 10.15
    ~/.zshrc: bashrc



# link for Linux(Ubuntu)
- shell:
  - ["", ========== Linux install ==========]

- defaults:
    link:
      create: true
      relink: true
      force: true
      relative: true
      if: '[ $(uname) = Linux ]'

- link:
    ~/.bashrc: bashrc
    ~/.tmux.conf.local.os: linux/tmux.conf.local
    ~/.gitmux: linux/gitmux



# Shell
- shell:
  - ["", ========== shell execute ==========]
  - [git submodule update --init --recursive, Update submodules]
  - [chmod 700 ~/.ssh && chmod 0600 ~/.ssh/vps_id_rsa, Avoid id_rsa permission too open]

