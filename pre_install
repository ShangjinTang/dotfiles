#!/usr/bin/env bash

SHELL_NAME=$(basename $SHELL)
if [ ! -f ~/.${SHELL_NAME}rc.local ]; then
    touch ~/.${SHELL_NAME}rc.local
fi

# delete all broken symlinks
CLEAN_DIRS=( ~ ~/bin )
for CLEAN_DIR in "${CLEAN_DIRS[@]}"; do
    if [ -d ${CLEAN_DIR} ]; then
        find ${CLEAN_DIR} -maxdepth 1 -type l -exec sh -c 'for x; do [ -e "$x" ] || rm "$x"; done' _ {} +
    fi
done
